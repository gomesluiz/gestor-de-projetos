"use strict";

// Idle on document
//
$(function () {
  var docTimeout = 5000; // Handle raised idle/active events

  $(document).on("idle.idleTimer", function (event, elem, obj) {
    $("#idletimer-doc-Status").val(function (i, v) {
      return v + "Idle @ " + moment().format() + " \n";
    }).removeClass("alert-success").addClass("alert-warning");
  });
  $(document).on("active.idleTimer", function (event, elem, obj, e) {
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Active [" + e.type + "] [" + e.target.nodeName + "] @ " + moment().format() + " \n";
    }).addClass("alert-success").removeClass("alert-warning");
  }); // Handle button events

  $("#idletimer-doc-Pause").click(function () {
    $(document).idleTimer("pause");
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Paused @ " + moment().format() + " \n";
    });
    $(this).blur();
    return false;
  });
  $("#idletimer-doc-Resume").click(function () {
    $(document).idleTimer("resume");
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Resumed @ " + moment().format() + " \n";
    });
    $(this).blur();
    return false;
  });
  $("#idletimer-doc-Elapsed").click(function () {
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Elapsed (since becoming active): " + $(document).idleTimer("getElapsedTime") + " \n";
    });
    $(this).blur();
    return false;
  });
  $("#idletimer-doc-Destroy").click(function () {
    $(document).idleTimer("destroy");
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Destroyed: @ " + moment().format() + " \n";
    }).removeClass("alert-success").removeClass("alert-warning");
    $(this).blur();
    return false;
  });
  $("#idletimer-doc-Init").click(function () {
    // for demo purposes show init with just object
    $(document).idleTimer({
      timeout: docTimeout
    });
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Init: @ " + moment().format() + " \n";
    }); //Apply classes for default state

    if ($(document).idleTimer("isIdle")) {
      $('#idletimer-doc-Status').removeClass("alert-success").addClass("alert-warning");
    } else {
      $('#idletimer-doc-Status').addClass("alert-success").removeClass("alert-warning");
    }

    $(this).blur();
    return false;
  }); //Clear old statuses

  $('#idletimer-doc-Status').val(''); //Start timeout, passing no options
  //Same as $.idleTimer(docTimeout, docOptions);

  $(document).idleTimer(docTimeout); //For demo purposes, style based on initial state

  if ($(document).idleTimer("isIdle")) {
    $("#idletimer-doc-Status").val(function (i, v) {
      return v + "Initial Idle State @ " + moment().format() + " \n";
    }).removeClass("alert-success").addClass("alert-warning");
  } else {
    $('#idletimer-doc-Status').val(function (i, v) {
      return v + "Initial Active State @ " + moment().format() + " \n";
    }).addClass("alert-success").removeClass("alert-warning");
  }
}); // Idle on element
//

$(function () {
  var elTimeout = 3000; // Handle raised idle/active events

  $('#idletimer-el-Status').on("idle.idleTimer", function (event, elem, obj) {
    //If you dont stop propagation it will bubble up to document event handler
    event.stopPropagation();
    $('#idletimer-el-Status').val(function (i, v) {
      return v + "Idle @ " + moment().format() + " \n";
    }).removeClass("alert-success").addClass("alert-warning");
  });
  $('#idletimer-el-Status').on("active.idleTimer", function (event) {
    //If you dont stop propagation it will bubble up to document event handler
    event.stopPropagation();
    $('#idletimer-el-Status').val(function (i, v) {
      return v + "Active @ " + moment().format() + " \n";
    }).addClass("alert-success").removeClass("alert-warning");
  }); // Handle button events

  $("#idletimer-el-Reset").click(function () {
    $('#idletimer-el-Status').idleTimer("reset").val(function (i, v) {
      return v + "Reset @ " + moment().format() + " \n";
    }); //Apply classes for default state

    if ($("#idletimer-el-Status").idleTimer("isIdle")) {
      $('#idletimer-el-Status').removeClass("alert-success").addClass("alert-warning");
    } else {
      $('#idletimer-el-Status').addClass("alert-success").removeClass("alert-warning");
    }

    $(this).blur();
    return false;
  });
  $("#idletimer-el-Remaining").click(function () {
    $('#idletimer-el-Status').val(function (i, v) {
      return v + "Remaining: " + $("#idletimer-el-Status").idleTimer("getRemainingTime") + " \n";
    });
    $(this).blur();
    return false;
  });
  $("#idletimer-el-LastActive").click(function () {
    $('#idletimer-el-Status').val(function (i, v) {
      return v + "LastActive: " + $("#idletimer-el-Status").idleTimer("getLastActiveTime") + " \n";
    });
    $(this).blur();
    return false;
  });
  $("#idletimer-el-State").click(function () {
    $('#idletimer-el-Status').val(function (i, v) {
      return v + "State: " + ($("#idletimer-el-Status").idleTimer("isIdle") ? "idle" : "active") + " \n";
    });
    $(this).blur();
    return false;
  }); //Clear value if there was one cached & start time

  $('#idletimer-el-Status').val('').idleTimer(elTimeout); //For demo purposes, show initial state

  if ($("#idletimer-el-Status").idleTimer("isIdle")) {
    $("#idletimer-el-Status").val(function (i, v) {
      return v + "Initial Idle @ " + moment().format() + " \n";
    }).removeClass("alert-success").addClass("alert-warning");
  } else {
    $('#idletimer-el-Status').val(function (i, v) {
      return v + "Initial Active @ " + moment().format() + " \n";
    }).addClass("alert-success").removeClass("alert-warning");
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21pc2NfaWRsZS10aW1lci5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jVGltZW91dCIsImRvY3VtZW50Iiwib24iLCJldmVudCIsImVsZW0iLCJvYmoiLCJ2YWwiLCJpIiwidiIsIm1vbWVudCIsImZvcm1hdCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJlIiwidHlwZSIsInRhcmdldCIsIm5vZGVOYW1lIiwiY2xpY2siLCJpZGxlVGltZXIiLCJibHVyIiwidGltZW91dCIsImVsVGltZW91dCIsInN0b3BQcm9wYWdhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBRUFBLENBQUMsQ0FBQyxZQUFXO0FBQ1gsTUFBSUMsVUFBVSxHQUFHLElBQWpCLENBRFcsQ0FHWDs7QUFDQUQsRUFBQUEsQ0FBQyxDQUFDRSxRQUFELENBQUQsQ0FBWUMsRUFBWixDQUFlLGdCQUFmLEVBQWlDLFVBQVNDLEtBQVQsRUFBZ0JDLElBQWhCLEVBQXNCQyxHQUF0QixFQUEyQjtBQUMxRE4sSUFBQUEsQ0FBQyxDQUFDLHVCQUFELENBQUQsQ0FDR08sR0FESCxDQUNPLFVBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlO0FBQ2xCLGFBQU9BLENBQUMsR0FBRyxTQUFKLEdBQWdCQyxNQUFNLEdBQUdDLE1BQVQsRUFBaEIsR0FBb0MsS0FBM0M7QUFDRCxLQUhILEVBSUdDLFdBSkgsQ0FJZSxlQUpmLEVBS0dDLFFBTEgsQ0FLWSxlQUxaO0FBTUQsR0FQRDtBQVFBYixFQUFBQSxDQUFDLENBQUNFLFFBQUQsQ0FBRCxDQUFZQyxFQUFaLENBQWUsa0JBQWYsRUFBbUMsVUFBU0MsS0FBVCxFQUFnQkMsSUFBaEIsRUFBc0JDLEdBQXRCLEVBQTJCUSxDQUEzQixFQUE4QjtBQUMvRGQsSUFBQUEsQ0FBQyxDQUFDLHVCQUFELENBQUQsQ0FDR08sR0FESCxDQUNPLFVBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlO0FBQ2xCLGFBQU9BLENBQUMsR0FBRyxVQUFKLEdBQWlCSyxDQUFDLENBQUND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RUFBZTtBQUNsQixhQUFPQSxDQUFDLEdBQUcsaUJBQUosR0FBd0JDLE1BQU0sR0FBR0MsTUFBVCxFQUF4QixHQUE0QyxLQUFuRDtBQUNELEtBSEgsRUFJR0MsV0FKSCxDQUllLGVBSmYsRUFLR0MsUUFMSCxDQUtZLGVBTFo7QUFNRCxHQVBELE1BT087QUFDTGIsSUFBQUEsQ0FBQyxDQUFDLHNCQUFELENBQUQsQ0FDR08sR0FESCxDQUNPLFVBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlO0FBQ2xCLGFBQU9BLENBQUMsR0FBRyxtQkFBSixHQUEwQkMsTUFBTSxHQUFHQyxNQUFULEVBQTFCLEdBQThDLEtBQXJEO0FBQ0QsS0FISCxFQUlHRSxRQUpILENBSVksZUFKWixFQUtHRCxXQUxILENBS2UsZUFMZjtBQU1EO0FBQ0YsQ0E3RkEsQ0FBRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIElkbGUgb24gZG9jdW1lbnRcbi8vXG5cbiQoZnVuY3Rpb24oKSB7XG4gIHZhciBkb2NUaW1lb3V0ID0gNTAwMDtcblxuICAvLyBIYW5kbGUgcmFpc2VkIGlkbGUvYWN0aXZlIGV2ZW50c1xuICAkKGRvY3VtZW50KS5vbihcImlkbGUuaWRsZVRpbWVyXCIsIGZ1bmN0aW9uKGV2ZW50LCBlbGVtLCBvYmopIHtcbiAgICAkKFwiI2lkbGV0aW1lci1kb2MtU3RhdHVzXCIpXG4gICAgICAudmFsKGZ1bmN0aW9uKGksIHYpIHtcbiAgICAgICAgcmV0dXJuIHYgKyBcIklkbGUgQCBcIiArIG1vbWVudCgpLmZvcm1hdCgpICsgXCIgXFxuXCI7XG4gICAgICB9KVxuICAgICAgLnJlbW92ZUNsYXNzKFwiYWxlcnQtc3VjY2Vzc1wiKVxuICAgICAgLmFkZENsYXNzKFwiYWxlcnQtd2FybmluZ1wiKTtcbiAgfSk7XG4gICQoZG9jdW1lbnQpLm9uKFwiYWN0aXZlLmlkbGVUaW1lclwiLCBmdW5jdGlvbihldmVudCwgZWxlbSwgb2JqLCBlKSB7XG4gICAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiQWN0aXZlIFtcIiArIGUudHlwZSArIFwiXSBbXCIgKyBlLnRhcmdldC5ub2RlTmFtZSArIFwiXSBAIFwiICsgbW9tZW50KCkuZm9ybWF0KCkgKyBcIiBcXG5cIjtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2xhc3MoXCJhbGVydC1zdWNjZXNzXCIpXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJhbGVydC13YXJuaW5nXCIpO1xuICB9KTtcblxuICAvLyBIYW5kbGUgYnV0dG9uIGV2ZW50c1xuICAkKFwiI2lkbGV0aW1lci1kb2MtUGF1c2VcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgJChkb2N1bWVudCkuaWRsZVRpbWVyKFwicGF1c2VcIik7XG4gICAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiUGF1c2VkIEAgXCIgKyBtb21lbnQoKS5mb3JtYXQoKSArIFwiIFxcblwiO1xuICAgICAgfSk7XG4gICAgJCh0aGlzKS5ibHVyKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJChcIiNpZGxldGltZXItZG9jLVJlc3VtZVwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKGRvY3VtZW50KS5pZGxlVGltZXIoXCJyZXN1bWVcIik7XG4gICAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiUmVzdW1lZCBAIFwiICsgbW9tZW50KCkuZm9ybWF0KCkgKyBcIiBcXG5cIjtcbiAgICAgIH0pO1xuICAgICQodGhpcykuYmx1cigpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoXCIjaWRsZXRpbWVyLWRvYy1FbGFwc2VkXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoJyNpZGxldGltZXItZG9jLVN0YXR1cycpXG4gICAgICAudmFsKGZ1bmN0aW9uKGksIHYpIHtcbiAgICAgICAgcmV0dXJuIHYgKyBcIkVsYXBzZWQgKHNpbmNlIGJlY29taW5nIGFjdGl2ZSk6IFwiICsgJChkb2N1bWVudCkuaWRsZVRpbWVyKFwiZ2V0RWxhcHNlZFRpbWVcIikgKyBcIiBcXG5cIjtcbiAgICAgIH0pO1xuICAgICQodGhpcykuYmx1cigpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoXCIjaWRsZXRpbWVyLWRvYy1EZXN0cm95XCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoZG9jdW1lbnQpLmlkbGVUaW1lcihcImRlc3Ryb3lcIik7XG4gICAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiRGVzdHJveWVkOiBAIFwiICsgbW9tZW50KCkuZm9ybWF0KCkgKyBcIiBcXG5cIjtcbiAgICAgIH0pXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJhbGVydC1zdWNjZXNzXCIpXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJhbGVydC13YXJuaW5nXCIpO1xuICAgICQodGhpcykuYmx1cigpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoXCIjaWRsZXRpbWVyLWRvYy1Jbml0XCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIC8vIGZvciBkZW1vIHB1cnBvc2VzIHNob3cgaW5pdCB3aXRoIGp1c3Qgb2JqZWN0XG4gICAgJChkb2N1bWVudCkuaWRsZVRpbWVyKHsgdGltZW91dDogZG9jVGltZW91dCB9KTtcbiAgICAkKCcjaWRsZXRpbWVyLWRvYy1TdGF0dXMnKVxuICAgICAgLnZhbChmdW5jdGlvbihpLCB2KSB7XG4gICAgICAgIHJldHVybiB2ICsgXCJJbml0OiBAIFwiICsgbW9tZW50KCkuZm9ybWF0KCkgKyBcIiBcXG5cIjtcbiAgICAgIH0pO1xuXG4gICAgLy9BcHBseSBjbGFzc2VzIGZvciBkZWZhdWx0IHN0YXRlXG4gICAgaWYgKCQoZG9jdW1lbnQpLmlkbGVUaW1lcihcImlzSWRsZVwiKSkge1xuICAgICAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiYWxlcnQtc3VjY2Vzc1wiKVxuICAgICAgICAuYWRkQ2xhc3MoXCJhbGVydC13YXJuaW5nXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcjaWRsZXRpbWVyLWRvYy1TdGF0dXMnKVxuICAgICAgICAuYWRkQ2xhc3MoXCJhbGVydC1zdWNjZXNzXCIpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImFsZXJ0LXdhcm5pbmdcIik7XG4gICAgfVxuICAgICQodGhpcykuYmx1cigpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgLy9DbGVhciBvbGQgc3RhdHVzZXNcbiAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJykudmFsKCcnKTtcblxuICAvL1N0YXJ0IHRpbWVvdXQsIHBhc3Npbmcgbm8gb3B0aW9uc1xuICAvL1NhbWUgYXMgJC5pZGxlVGltZXIoZG9jVGltZW91dCwgZG9jT3B0aW9ucyk7XG4gICQoZG9jdW1lbnQpLmlkbGVUaW1lcihkb2NUaW1lb3V0KTtcblxuICAvL0ZvciBkZW1vIHB1cnBvc2VzLCBzdHlsZSBiYXNlZCBvbiBpbml0aWFsIHN0YXRlXG4gIGlmICgkKGRvY3VtZW50KS5pZGxlVGltZXIoXCJpc0lkbGVcIikpIHtcbiAgICAkKFwiI2lkbGV0aW1lci1kb2MtU3RhdHVzXCIpXG4gICAgLnZhbChmdW5jdGlvbihpLCB2KSB7XG4gICAgICByZXR1cm4gdiArIFwiSW5pdGlhbCBJZGxlIFN0YXRlIEAgXCIgKyBtb21lbnQoKS5mb3JtYXQoKSArIFwiIFxcblwiO1xuICAgIH0pXG4gICAgLnJlbW92ZUNsYXNzKFwiYWxlcnQtc3VjY2Vzc1wiKVxuICAgIC5hZGRDbGFzcyhcImFsZXJ0LXdhcm5pbmdcIik7XG4gIH0gZWxzZSB7XG4gICAgJCgnI2lkbGV0aW1lci1kb2MtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiSW5pdGlhbCBBY3RpdmUgU3RhdGUgQCBcIiArIG1vbWVudCgpLmZvcm1hdCgpICsgXCIgXFxuXCI7XG4gICAgICB9KVxuICAgICAgLmFkZENsYXNzKFwiYWxlcnQtc3VjY2Vzc1wiKVxuICAgICAgLnJlbW92ZUNsYXNzKFwiYWxlcnQtd2FybmluZ1wiKTtcbiAgfVxufSk7XG5cbi8vIElkbGUgb24gZWxlbWVudFxuLy9cblxuJChmdW5jdGlvbigpIHtcbiAgdmFyIGVsVGltZW91dCA9IDMwMDA7XG5cbiAgLy8gSGFuZGxlIHJhaXNlZCBpZGxlL2FjdGl2ZSBldmVudHNcbiAgJCgnI2lkbGV0aW1lci1lbC1TdGF0dXMnKS5vbihcImlkbGUuaWRsZVRpbWVyXCIsIGZ1bmN0aW9uKGV2ZW50LCBlbGVtLCBvYmopIHtcbiAgICAvL0lmIHlvdSBkb250IHN0b3AgcHJvcGFnYXRpb24gaXQgd2lsbCBidWJibGUgdXAgdG8gZG9jdW1lbnQgZXZlbnQgaGFuZGxlclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgJCgnI2lkbGV0aW1lci1lbC1TdGF0dXMnKVxuICAgICAgLnZhbChmdW5jdGlvbihpLCB2KSB7XG4gICAgICAgIHJldHVybiB2ICsgXCJJZGxlIEAgXCIgKyBtb21lbnQoKS5mb3JtYXQoKSArIFwiIFxcblwiO1xuICAgICAgfSlcbiAgICAgIC5yZW1vdmVDbGFzcyhcImFsZXJ0LXN1Y2Nlc3NcIilcbiAgICAgIC5hZGRDbGFzcyhcImFsZXJ0LXdhcm5pbmdcIik7XG5cbiAgfSk7XG4gICQoJyNpZGxldGltZXItZWwtU3RhdHVzJykub24oXCJhY3RpdmUuaWRsZVRpbWVyXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy9JZiB5b3UgZG9udCBzdG9wIHByb3BhZ2F0aW9uIGl0IHdpbGwgYnViYmxlIHVwIHRvIGRvY3VtZW50IGV2ZW50IGhhbmRsZXJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICQoJyNpZGxldGltZXItZWwtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiQWN0aXZlIEAgXCIgKyBtb21lbnQoKS5mb3JtYXQoKSArIFwiIFxcblwiO1xuICAgICAgfSlcbiAgICAgIC5hZGRDbGFzcyhcImFsZXJ0LXN1Y2Nlc3NcIilcbiAgICAgIC5yZW1vdmVDbGFzcyhcImFsZXJ0LXdhcm5pbmdcIik7XG4gIH0pO1xuXG4gIC8vIEhhbmRsZSBidXR0b24gZXZlbnRzXG4gICQoXCIjaWRsZXRpbWVyLWVsLVJlc2V0XCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoJyNpZGxldGltZXItZWwtU3RhdHVzJylcbiAgICAgIC5pZGxlVGltZXIoXCJyZXNldFwiKVxuICAgICAgLnZhbChmdW5jdGlvbihpLCB2KSB7XG4gICAgICAgIHJldHVybiB2ICsgXCJSZXNldCBAIFwiICsgbW9tZW50KCkuZm9ybWF0KCkgKyBcIiBcXG5cIjtcbiAgICAgIH0pO1xuXG4gICAgLy9BcHBseSBjbGFzc2VzIGZvciBkZWZhdWx0IHN0YXRlXG4gICAgaWYgKCQoXCIjaWRsZXRpbWVyLWVsLVN0YXR1c1wiKS5pZGxlVGltZXIoXCJpc0lkbGVcIikpIHtcbiAgICAgICQoJyNpZGxldGltZXItZWwtU3RhdHVzJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiYWxlcnQtc3VjY2Vzc1wiKVxuICAgICAgICAuYWRkQ2xhc3MoXCJhbGVydC13YXJuaW5nXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcjaWRsZXRpbWVyLWVsLVN0YXR1cycpXG4gICAgICAgIC5hZGRDbGFzcyhcImFsZXJ0LXN1Y2Nlc3NcIilcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiYWxlcnQtd2FybmluZ1wiKTtcbiAgICB9XG4gICAgJCh0aGlzKS5ibHVyKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgJChcIiNpZGxldGltZXItZWwtUmVtYWluaW5nXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoJyNpZGxldGltZXItZWwtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiUmVtYWluaW5nOiBcIiArICQoXCIjaWRsZXRpbWVyLWVsLVN0YXR1c1wiKS5pZGxlVGltZXIoXCJnZXRSZW1haW5pbmdUaW1lXCIpICsgXCIgXFxuXCI7XG4gICAgICB9KTtcbiAgICAkKHRoaXMpLmJsdXIoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICAkKFwiI2lkbGV0aW1lci1lbC1MYXN0QWN0aXZlXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoJyNpZGxldGltZXItZWwtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiTGFzdEFjdGl2ZTogXCIgKyAkKFwiI2lkbGV0aW1lci1lbC1TdGF0dXNcIikuaWRsZVRpbWVyKFwiZ2V0TGFzdEFjdGl2ZVRpbWVcIikgKyBcIiBcXG5cIjtcbiAgICAgIH0pO1xuICAgICQodGhpcykuYmx1cigpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gICQoXCIjaWRsZXRpbWVyLWVsLVN0YXRlXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoJyNpZGxldGltZXItZWwtU3RhdHVzJylcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiU3RhdGU6IFwiICsgKCQoXCIjaWRsZXRpbWVyLWVsLVN0YXR1c1wiKS5pZGxlVGltZXIoXCJpc0lkbGVcIik/IFwiaWRsZVwiOlwiYWN0aXZlXCIpICsgXCIgXFxuXCI7XG4gICAgICB9KTtcbiAgICAkKHRoaXMpLmJsdXIoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vQ2xlYXIgdmFsdWUgaWYgdGhlcmUgd2FzIG9uZSBjYWNoZWQgJiBzdGFydCB0aW1lXG4gICQoJyNpZGxldGltZXItZWwtU3RhdHVzJykudmFsKCcnKS5pZGxlVGltZXIoZWxUaW1lb3V0KTtcblxuICAvL0ZvciBkZW1vIHB1cnBvc2VzLCBzaG93IGluaXRpYWwgc3RhdGVcbiAgaWYgKCQoXCIjaWRsZXRpbWVyLWVsLVN0YXR1c1wiKS5pZGxlVGltZXIoXCJpc0lkbGVcIikpIHtcbiAgICAkKFwiI2lkbGV0aW1lci1lbC1TdGF0dXNcIilcbiAgICAgIC52YWwoZnVuY3Rpb24oaSwgdikge1xuICAgICAgICByZXR1cm4gdiArIFwiSW5pdGlhbCBJZGxlIEAgXCIgKyBtb21lbnQoKS5mb3JtYXQoKSArIFwiIFxcblwiO1xuICAgICAgfSlcbiAgICAgIC5yZW1vdmVDbGFzcyhcImFsZXJ0LXN1Y2Nlc3NcIilcbiAgICAgIC5hZGRDbGFzcyhcImFsZXJ0LXdhcm5pbmdcIik7XG4gIH0gZWxzZSB7XG4gICAgJCgnI2lkbGV0aW1lci1lbC1TdGF0dXMnKVxuICAgICAgLnZhbChmdW5jdGlvbihpLCB2KSB7XG4gICAgICAgIHJldHVybiB2ICsgXCJJbml0aWFsIEFjdGl2ZSBAIFwiICsgbW9tZW50KCkuZm9ybWF0KCkgKyBcIiBcXG5cIjtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2xhc3MoXCJhbGVydC1zdWNjZXNzXCIpXG4gICAgICAucmVtb3ZlQ2xhc3MoXCJhbGVydC13YXJuaW5nXCIpO1xuICB9XG59KTtcbiJdLCJmaWxlIjoianMvbWlzY19pZGxlLXRpbWVyLmVzNS5qcyJ9
